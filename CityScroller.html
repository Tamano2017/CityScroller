<html>
	<head>
		<title>CityScroller</title>
		<script src="http://cloud.github.com/downloads/processing-js/processing-js/processing-1.4.1.min.js"></script>
		<script type="text/processing" data-processing-target="mycanvas">
        // Declare and contruct two objects (h1, h2) from the class HorizontalLine 
        
        // Declare and contruct two objects (h1, h2) from the class HorizontalLine
        var BuildingWidths = [];
        Building randomBuilding = new Building();
        ArrayList<Building> BuildingList = new ArrayList<Building>(); 
        
        int WINDOW_WIDTH = 600;
        int WINDOW_HEIGHT = 600;
        int RIGHT_ARROW = 39;
        int LEFT_ARROW = 37;
        int NUMBER_OF_BUILDINGS = 7;
        
        int REFRESH_RATE_PER_SECOND = 30;
        int GREY = 204;
        //runs once at the start of the program 
        void setup() 
        {
        
          size(WINDOW_WIDTH, WINDOW_HEIGHT);
        
          frameRate(REFRESH_RATE_PER_SECOND);//how often per second the draw function is called 

          for(var i = 0; i < NUMBER_OF_BUILDINGS; i++) {
            BuildingList.add(new Building(random(0,200),i*100,100));
          }
        
        }
        
        
        //called repeatedly 
        void draw() { 
        
          background(GREY);

            for(var i = 0; i < NUMBER_OF_BUILDINGS; i++) {
            Building currentBuilding = BuildingList.get(i);
            currentBuilding.updateAndRedraw();  
            if((i+1) % 2 == 0){
            currentBuilding.drawTower();
            }
            }
        } 
        
         
        
        class Building { 
          
          //attributes
          float By, Bx, Bw; 
        
          //constructor 
          Building(float BuildingY, float BuildingX, float BuildingW) {  
        
            By = BuildingY; 
        
            Bx = BuildingX; 

            Bw = BuildingW;
        
          } 
          
          void updateAndRedraw() {
          	update();
          	drawBuilding();
          }
          
          void update() 
          { 
          if (keyPressed && keyCode == RIGHT_ARROW) {
              Bx-=7; 
            }
          if (keyPressed && keyCode == LEFT_ARROW) {
              Bx+=7; 
            }
        
            if (Bx < -100) 
            { 
        
              Bx = width; 
        
            } 
          if (Bx > width) 
            { 
        
              Bx = -100; 
        
            } 
        
        
          } 
          
          void drawBuilding() 
          {
          fill(65,65,65);
          rect(Bx, By, 90, height-By); 
		  }
          void drawTower(){
          rect(Bx+22.5, By-30, 45, 30);
          }

        
        }
        
  
        </script> 
    </head>
    
    <body>
		<canvas id="mycanvas"></canvas>
	</body>
</html>
    